<div class="index-heading mb-3">
  <h1 class="huge-name">
    <%= @superhero.name %>
  </h1>
</div>

<div class="row">
  <div class="col-lg-7">
    <div class="superhero-details-card mb-5">
      <%= cl_image_tag @superhero.img_url.key, crop: :thumb, gravity: :face, class: "super-hero-picture mr-4" %>
      <div class="superhero-info">
        <h1 class="super-text"><%= @superhero.name %></h1>
        <div class="flexbox d-flex mb-3">
          <div><i class="far fa-star"> <%= @superhero.reviews.length > 0 ? (@superhero.reviews.average(:rating)).round(2) : 5.00 %></i></div>
          <div class="hero-city ml-3"><span><%= @superhero.city %></span></div>
        </div>
        <h4 class="">Superpower: <%= @superhero.superpower %></h2>
        <p><%= @superhero.description %></p>
      </div>
    </div>
    <div class="reviews-show mb-5">
      <div class="reviews-header mb-3">
        <h1 class="mr-3">Reviews</h1>
        <%= link_to "Create review", new_superhero_review_path(@superhero), class: "btn dark-blue-btn-outline btn-lg" %>
      </div>
      <div class="reviews-display mb-3">
        <%  if @superhero.reviews.blank? %> 
        <%= @superhero.name %> has no reviews!
        <% else %>
        <% @superhero.reviews.each do |review| %>
          <div class="review-card mb-3">
            <div class="mb-1">
              <% review.rating.times do %>
            <span>⭐️</span>
            <% end %>
            </div>
            <p><%= review.description %></p>
          </div>
        <% end %>
        <% end %>
      </div>
    </div>
  </div>

  <div class="col-lg-5">
    <div class="checkout-column mb-5">

      <div class="booking-card">
        <div class="booking-details mb-3">
          <span><strong>$<%= @superhero.hourly_price %></strong>/hour</span>
          <i class="far fa-star"><%= @superhero.reviews.length > 0 ? (@superhero.reviews.average(:rating)).round(2) : 5.00 %></i>
        </div>
        <div class="booking-form">
          <%= render "shared/form_booking" %> 
        </div>
      </div>
        </div>
      </div>
    </div>
  </div>

</div>



</div>

